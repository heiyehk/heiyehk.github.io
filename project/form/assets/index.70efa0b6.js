import{u as e}from"./index.19809cc7.js";import{i as t,q as l,I as a,d as n,F as i,D as o,t as r,b as s,G as u,H as d,p as c,h as m,r as f,o as p,e as v,g as b,J as k,L as y,w as g,N as h,z as C,j as O,x as _}from"./vendor.20deaaa7.js";import{f as x}from"./reactiveFormOptions.42df1a8c.js";var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};function I(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var j=function(e,n){var i=function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),a.forEach((function(t){I(e,t,l[t])}))}return e}({},e,n.attrs);return t(a,l(i,{icon:E}),null)};j.displayName="FileAddOutlined",j.inheritAttrs=!1;var M=n({components:{FileAddOutlined:j,EditOutlined:i,DeleteOutlined:o},setup(){const t=r(),l=s(),a=s(null),n=s(null),i=s(new Array(x.value.length).fill(!1)),o=s(!1),c=s(""),m=s(""),f=u({title:""}),p=u({title:[{required:!0,message:"请输入名字"}]});return{nameInput:a,itemInput:n,addClick:()=>{o.value=!0,d((()=>{var e;null==(e=a.value)||e.focus()}))},addName:c,addVisible:o,reset:e=>{"number"==typeof e?(x.value[e].title=m.value,i.value[e]=!1,m.value=""):(o.value=!1,l.value.resetFields())},formRef:l,formModel:f,formRules:p,onSubmit:t=>{"number"==typeof t?l.value.validate().then((()=>{i.value[t]=!1,f.title=""})):l.value.validate().then((()=>{o.value=!1,x.value.push({title:f.title,_id:e(),name:"",model:"formModel",rules:"formRules",hideRequiredMark:!1,size:"default",labelAlign:"right",layout:"horizontal",labelCol:{span:2},colon:!0,validateOnRuleChange:!0,scrollToFirstError:!1,validateTrigger:"change",submitBtns:!0,confirmText:"提交",cancel:!1,cancelText:"取消",reset:!0,resetText:"重置",btnsAlign:"left",suspend:!0,__attr__:[]}),i.value.splice(t,0,!1),f.title=""}))},formsOptions:x,formsEditStatus:i,jumpMaking:e=>{t.push(`making/${e}`)},editFormItem:e=>{const t=x.value;i.value.map((()=>!1)),i.value[e]=!0,m.value=t[e].title,f.title=t[e].title,d((()=>{var e;null==(e=n.value)||e.focus()}))},currEditInput:e=>{const t=e.target.value;f.title=t},deleteFormItem:e=>{x.value.splice(e,1),i.value.splice(e,1)}}}});c("data-v-4a9744aa");const F={class:"page-content"},S={class:"form-list flex"},R=["onClick"],z={key:0,class:"item"},P=O("确认"),V=O("取消"),w={key:0,class:"item"},A=O("确认"),H=O("取消"),T={key:1,class:"item"},D=b("p",null,"添加表单",-1);m(),M.render=function(e,l,a,n,i,o){const r=f("a-input"),s=f("a-form-item"),u=f("a-button"),d=f("a-form"),c=f("EditOutlined"),m=f("DeleteOutlined"),O=f("a-popconfirm"),x=f("FileAddOutlined");return p(),v("div",F,[b("ul",S,[(p(!0),v(k,null,y(e.formsOptions,((a,n)=>(p(),v("li",{key:a._id,class:"flex-center",onClick:t=>e.jumpMaking(a._id)},[e.formsEditStatus[n]?C("",!0):(p(),v("div",z,[b("p",null,_(a.title),1)])),e.formsEditStatus[n]?(p(),v("div",{key:1,class:"item",onClick:l[0]||(l[0]=h((()=>{}),["stop"]))},[t(d,{ref:"formRef",class:"add-form",model:e.formModel,rules:e.formRules},{default:g((()=>[t(s,{label:"名称",name:"title"},{default:g((()=>[t(r,{ref:"itemInput",onInput:e.currEditInput,value:e.formsOptions[n].title,"onUpdate:value":t=>e.formsOptions[n].title=t,onPressEnter:t=>e.onSubmit(n)},null,8,["onInput","value","onUpdate:value","onPressEnter"])])),_:2},1024),t(s,{style:{"margin-bottom":"0"}},{default:g((()=>[t(u,{type:"primary",onClick:h((t=>e.onSubmit(n)),["prevent","stop"])},{default:g((()=>[P])),_:2},1032,["onClick"]),t(u,{style:{"margin-left":"20px"},onClick:h((t=>e.reset(n)),["stop"])},{default:g((()=>[V])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["model","rules"])])):C("",!0),e.formsEditStatus[n]?C("",!0):(p(),v("div",{key:2,class:"action-btn",onClick:l[2]||(l[2]=h((()=>{}),["stop"]))},[t(c,{onClick:h((t=>e.editFormItem(n)),["stop"])},null,8,["onClick"]),t(O,{title:"是否删除？","ok-text":"是","cancel-text":"否",onConfirm:h((t=>e.deleteFormItem(n)),["stop"])},{default:g((()=>[t(m,{style:{"margin-left":"20px"},onClick:l[1]||(l[1]=h((()=>{}),["stop"]))})])),_:2},1032,["onConfirm"])]))],8,R)))),128)),b("li",{class:"flex-center",onClick:l[4]||(l[4]=(...t)=>e.addClick&&e.addClick(...t))},[e.addVisible?(p(),v("div",w,[t(d,{ref:"formRef",class:"add-form",model:e.formModel,rules:e.formRules},{default:g((()=>[t(s,{label:"名称",name:"title"},{default:g((()=>[t(r,{ref:"nameInput",value:e.formModel.title,"onUpdate:value":l[3]||(l[3]=t=>e.formModel.title=t),onPressEnter:e.onSubmit},null,8,["value","onPressEnter"])])),_:1}),t(s,{style:{"margin-bottom":"0"}},{default:g((()=>[t(u,{type:"primary",onClick:h(e.onSubmit,["prevent","stop"])},{default:g((()=>[A])),_:1},8,["onClick"]),t(u,{style:{"margin-left":"20px"},onClick:h(e.reset,["stop"])},{default:g((()=>[H])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])):C("",!0),e.addVisible?C("",!0):(p(),v("div",T,[t(x,{style:{"font-size":"24px"}}),D]))])])])},M.__scopeId="data-v-4a9744aa";export default M;
